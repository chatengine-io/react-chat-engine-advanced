import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import { FileOutlined } from '@ant-design/icons';

import { fileAttachment, imageAttachment } from '../../util/mocks';

import { Attachment } from '.';

<Meta title="ChatFeed/Attachment" component={Attachment} />

export const Template = ({
  children,
  isLoading,
  attachment,
  style,
  loadingStyle,
}) => (
  <Attachment
    attachment={attachment}
    isLoading={isLoading}
    style={style}
    loadingStyle={loadingStyle}
  >
    {children}
  </Attachment>
);

# Attachment

This is a generic attachment thumbnail component.

The `Attachment` component will render a file or image depending on the file extension of the given file path.

## Default File

<Story name="Default File" args={{ attachment: fileAttachment }}>
  {Template.bind({})}
</Story>

<ArgsTable story="Default File" />

## Default Image

<Story name="Default Image" args={{ attachment: imageAttachment }}>
  {Template.bind({})}
</Story>

<ArgsTable story="Default Image" />

## Is Loading

You can set the `isLoading` prop to `true` and the message will appear to be loading/processing the file.

This is used when a message is sending and has not delivered yet.

<Canvas>
  <Story
    name="File Is Loading"
    args={{ attachment: fileAttachment, isLoading: true }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Image Is Loading"
    args={{ attachment: imageAttachment, isLoading: true }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Children

You can put child props within the `<Attachment />` component. This lets you customize what is in a file thumb's body.

<Canvas>
  <Story
    name="File Children"
    args={{
      attachment: fileAttachment,
      children: (
        <div>
          <FileOutlined /> Custom Text and Icon
        </div>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Image Children"
    args={{
      attachment: imageAttachment,
      isLoading: true,
      children: (
        <div style={{ color: 'black', padding: '12px' }}>
          <FileOutlined /> Custom Text
        </div>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Custom Style

You can customize the CSS style of a file component too.

<Canvas>
  <Story
    name="File Custom Style"
    args={{
      attachment: fileAttachment,
      style: {
        backgroundColor: 'rgb(74, 81, 98)',
        border: 'none',
        color: 'white',
      },
      loadingStyle: {
        backgroundColor: 'rgb(74, 81, 98)',
        border: 'none',
        color: 'white',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Image Custom Style"
    args={{
      attachment: imageAttachment,
      style: {
        backgroundColor: 'rgb(74, 81, 98)',
        border: 'none',
      },
      loadingStyle: {
        backgroundColor: 'rgb(74, 81, 98)',
        border: 'none',
        color: 'white',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
