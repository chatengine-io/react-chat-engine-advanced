import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { FileOutlined } from '@ant-design/icons';

import { fileAttachment, imageAttachment } from '../../../../../util/mocks';

import { Attachment } from '.';

<Meta
  title="ChatEngine/ChatFeed/MessageList/Message/Attachment"
  component={Attachment}
/>

export const Template = ({
  children,
  isLoading,
  attachment,
  customStyle,
  loadingStyle,
}) => (
  <Attachment
    attachment={attachment}
    isLoading={isLoading}
    customStyle={customStyle}
    loadingStyle={loadingStyle}
  >
    {children}
  </Attachment>
);

# Attachment

This is a generic attachment thumbnail component.

The `Attachment` component will render a file or image depending on the file extension of the given file path.

## Default File

<Story name="Default File" args={{ attachment: fileAttachment }}>
  {Template.bind({})}
</Story>

<ArgsTable story="Default File" />

## Default Image

<Story name="Default Image" args={{ attachment: imageAttachment }}>
  {Template.bind({})}
</Story>

<ArgsTable story="Default Image" />

## Is Loading

You can set the `isLoading` prop to `true` and the message will appear to be loading/processing the file.

This is used when a message is sending and has not delivered yet.

<Canvas>
  <Story
    name="File Is Loading"
    args={{ attachment: fileAttachment, isLoading: true }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Image Is Loading"
    args={{ attachment: imageAttachment, isLoading: true }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Children

You can put child props within the `<Attachment />` component. This lets you customize what is in a file thumb's body.

<Canvas>
  <Story
    name="File Children"
    args={{
      attachment: fileAttachment,
      children: (
        <div>
          <FileOutlined /> Custom Text and Icon
        </div>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Image Children"
    args={{
      attachment: imageAttachment,
      isLoading: true,
      children: (
        <div style={{ color: 'black', padding: '12px' }}>
          <FileOutlined /> Custom Text
        </div>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Custom Style

You can customize the CSS style of a file component too.

<Canvas>
  <Story
    name="File Custom Style"
    args={{
      attachment: fileAttachment,
      customStyle: {
        attachmentThumb: {
          border: '2px solid red',
        },
        attachmentLoading: {
          border: '2px solid green',
        },
        attachmentHovered: {
          border: '2px solid blue',
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Image Custom Style"
    args={{
      attachment: imageAttachment,
      customStyle: {
        attachmentThumb: {
          border: '2px solid red',
        },
        attachmentLoading: {
          border: '2px solid green',
        },
        attachmentHovered: {
          border: '2px solid blue',
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
