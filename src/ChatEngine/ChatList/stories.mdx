import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { ChatList } from '.';
import { Props } from './props';

import { chats } from '../../util/mocks';

<Meta
  title="ChatEngine/ChatList"
  component={ChatList}
  argTypes={{
    chatListStyle: { table: { category: 'styles' } },
    chatListLoadingStyle: { table: { category: 'styles' } },
    chatListLoadTriggerStyle: { table: { category: 'styles' } },
  }}
/>

export const Template = (args) => <ChatList {...args} />;

# Chat List

The Chat List component is for listing all chats relevant to one user.

## Default

<Story
  name="Default"
  args={{
    chatListStyle: {
      maxWidth: '400px',
      boxShadow: '0px 0px 3px 6px rgba(0, 0, 0, 0.1)',
      maxHeight: '330px',
    },
    chats: chats,
  }}
>
  {Template.bind({})}
</Story>

<ArgsTable story="Default" />

## Active Chat

You can specify the active chat with `activeChatKey` and the corresponding ChatCard will be active.

<Story
  name="Active Chat"
  args={{
    chatListStyle: {
      maxWidth: '400px',
      boxShadow: '0px 0px 3px 6px rgba(0, 0, 0, 0.1)',
      maxHeight: '330px',
    },
    chats: chats,
    activeChatKey: 201,
  }}
>
  {Template.bind({})}
</Story>

## My Username

If you specify the user with `myUsername` prop then you can see which chats this user has notifications for.

<Story
  name="My Username"
  args={{
    chatListStyle: {
      maxWidth: '400px',
      boxShadow: '0px 0px 3px 6px rgba(0, 0, 0, 0.1)',
      maxHeight: '330px',
    },
    chats: chats,
    myUsername: 'adam_lamorre',
  }}
>
  {Template.bind({})}
</Story>

## Is Loading

If the chats are not present yet, you can set `isLoading` to true and the chats will be loading.

<Story
  name="Is Loading"
  args={{
    chatListStyle: {
      maxWidth: '400px',
      boxShadow: '0px 0px 3px 6px rgba(0, 0, 0, 0.1)',
      maxHeight: '330px',
    },
    chats: {},
    isLoading: true,
  }}
>
  {Template.bind({})}
</Story>

## Has More Chats

If this user has more chats, and you want a loader to fetch more, set `hasMoreChats` prop to `true`. Then there will be a Chat Loader component at the bottom of the list.

<Story
  name="Has More Chats"
  args={{
    chatListStyle: {
      maxWidth: '400px',
      boxShadow: '0px 0px 3px 6px rgba(0, 0, 0, 0.1)',
      maxHeight: '330px',
    },
    chats: chats,
    hasMoreChats: true,
  }}
>
  {Template.bind({})}
</Story>

## Event Hooks

Use event hooks with the `on*` props.

They let you run you own code when they occur / trigger.

<Story
  name="Event Hooks"
  args={{
    chatListStyle: {
      maxWidth: '400px',
      boxShadow: '0px 0px 3px 6px rgba(0, 0, 0, 0.1)',
      maxHeight: '330px',
    },
    chats: chats,
    hasMoreChats: true,
    onChatClick: (id) => console.log('Chat Click', id),
    onChatFormSubmit: (data) => console.log('New Chat', data),
    onChatLoaderVisible: (id) => console.log('Load more chats!'),
  }}
>
  {Template.bind({})}
</Story>

## Custom Styles

Customize the look and feel with the `*Style` props.

<Story
  name="Custom Styles"
  args={{
    chats: chats,
    hasMoreChats: true,
    chatListStyle: {
      maxWidth: '400px',
      maxHeight: '330px',
      border: '1px solid red',
    },
    chatListLoadingStyle: { border: '1px solid green' },
    chatListLoadTriggerStyle: { border: '1px solid blue' },
  }}
>
  {Template.bind({})}
</Story>
